<!-- Sidebar -->
<div 
  class="sidebar shadow-lg transition-all duration-300 ease-in-out h-screen flex flex-col relative fixed left-0 top-0 z-40"
  [class.sidebar-open]="sidebarOpen"
  [class.sidebar-closed]="!sidebarOpen"
  [@slideInOut]="sidebarOpen ? 'in' : 'out'"
>
  <!-- Brand Section -->
  <div class="sidebar-brand">
    <img 
      src="assets/images/ces-logo.svg" 
      alt="CES Warranty Logo" 
      [class]="sidebarOpen ? 'logo-expanded' : 'logo-collapsed'">
  </div>

  <!-- Navigation Menu -->
  <nav class="flex-1 mt-8 px-4 overflow-y-auto">
    <ul class="space-y-2">
      <li *ngFor="let item of menuItems" class="relative">
        <!-- Main Menu Item -->
        <div 
          (click)="onMenuItemClick($event, item.id)"
          class="sidebar-menu-item cursor-pointer rounded-lg p-3 flex items-center"
          [class.active]="item.active"
          [class.space-x-3]="sidebarOpen"
          [class.justify-between]="item.hasSubmenu && sidebarOpen">
          <div class="flex items-center space-x-3">
            <span class="material-icons text-xl">{{ item.icon }}</span>
            <span *ngIf="sidebarOpen" class="font-medium text-base whitespace-nowrap">{{ item.label }}</span>
          </div>
          <!-- Submenu Toggle Arrow -->
          <span *ngIf="item.hasSubmenu && sidebarOpen" 
                class="material-icons text-sm transition-transform duration-200"
                [class.rotate-90]="item.expanded">
            chevron_right
          </span>
        </div>
        
        <!-- Submenu Items -->
        <ul *ngIf="item.hasSubmenu && item.submenu && item.expanded && sidebarOpen" 
            class="ml-6 mt-2 space-y-1">
          <li *ngFor="let subItem of item.submenu">
            <div 
              (click)="onSubmenuItemClick($event, subItem.id, item.id)"
              class="sidebar-submenu-item cursor-pointer rounded-lg p-2 flex items-center space-x-3"
              [class.active]="subItem.active">
              <span class="material-icons text-sm">{{ subItem.icon }}</span>
              <span class="font-medium text-base whitespace-nowrap">{{ subItem.label }}</span>
            </div>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

</div>
